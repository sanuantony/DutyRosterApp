Requirement :

I have N number of staff for them I want to create Duty roster for a month 

->Each staff will give me there leave plan for that month upfront

The shift are divided into 3

i) The morning shift is from 8AM to 3PM

->ii) The afternoon shift is from 2PM to 9PM

->iii) The night shift is from 8PM to Next day-> 9AM

Try to give every staff equal number of shifts

->Maximum number of continuous same shift is 3 days. For example, one person can have 3 consecutive night or morning or afternoon shift.

->After night shift that person cannot be assigned Morning or Evening shift, only choice for him/her is to continue night shift or should get a off. No staff can have more than 3 consecutive night shift or any other shift.

There should be at least one person for each shift.

->Each staff will get 4 week off per month.

Shifts should be scheduled in such a way that we must give one day off after 6 days of working.
In another word no one can have more than 6 consecutive working days.